(this.webpackJsonpmedusa=this.webpackJsonpmedusa||[]).push([[0],{118:function(e,t,c){e.exports={noDisplay:"Loader_noDisplay__3WDJf",loader:"Loader_loader__SsJt9",jumping:"Loader_jumping__3hBQg"}},119:function(e,t,c){e.exports={noDisplay:"Button_noDisplay__20CLJ",button:"Button_button__3Mrcb"}},120:function(e,t,c){e.exports={noDisplay:"Search_noDisplay__1Rfz_",container:"Search_container__1pp1R"}},203:function(e,t,c){},204:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c(0),n=c.n(r),s=c(48),i=c.n(s),o=c(8),u=c(28),l=c(10),j=c(12),d=c(50),A=c.n(d),f=c(118),b=c.n(f),v=function(){return Object(a.jsxs)("div",{className:b.a.loader,children:[Object(a.jsx)("span",{}),Object(a.jsx)("span",{}),Object(a.jsx)("span",{})]})},O=c(119),h=c.n(O),p=function(e){var t=e.onClick,c=e.title,r=e.disabled;return Object(a.jsx)("button",{onClick:t,type:"button",className:h.a.button,disabled:r,children:c})};p.defaultProps={disabled:!1};var g,m=p,x=c(34),S=c(5),k=c(9),U=c.n(k),y=c(4),_=c(25);function T(e){return{type:g.getUserDataSuccess,data:e}}function w(e){return{type:g.setLoadingStatus,load:e}}!function(e){e.getUserDataSuccess="getUserDataSuccess",e.getUserDataFailed="getUserDataFailed",e.getUserData="getUserData",e.setLoadingStatus="setLoadingStatus"}(g||(g={}));var J=U.a.mark(N),C=U.a.mark(R);function N(){var e,t,c;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(y.e)("ajax");case 2:return e=a.sent,a.prev=3,a.next=6,Object(y.b)(e,"get","/v1/me");case 6:return t=a.sent,c=t.data,a.next=10,Object(y.f)(T(c));case 10:a.next=17;break;case 12:return a.prev=12,a.t0=a.catch(3),console.error(a.t0),a.next=17,Object(y.f)({type:g.getUserDataFailed});case 17:case"end":return a.stop()}}),J,null,[[3,12]])}function R(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)(g.getUserData,N);case 2:case"end":return e.stop()}}),C)}var D,M={userData:{display_name:"",previewUrl:""},loading:!1};function F(e,t){return{type:D.getTracksData,offset:e,isInit:t}}function B(e){return{type:D.getTracksSuccess,data:e}}function V(e){return{type:D.getTracksDictionarySuccess,dictionary:e}}function E(e){return{type:D.setUserOffset,offset:e}}!function(e){e.getTracksSuccess="getTracksSuccess",e.getTracksFailed="getTracksFailed",e.getTracksData="getTracksData",e.getTracksDictionarySuccess="getTracksDictionarySuccess",e.setUserOffset="setUserOffset"}(D||(D={}));var P=50,L=25,H=U.a.mark(G),Q=U.a.mark(K);function G(e){var t,c,a,r,n,s,i,o,u;return U.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.offset,c=e.isInit,l.next=3,Object(y.e)("ajax");case 3:return a=l.sent,l.prev=4,l.next=7,Object(y.f)(w(!0));case 7:return l.next=9,Object(y.b)(a,"get","/v1/me/tracks",{offset:t,limit:P});case 9:return r=l.sent,n=r.data,l.next=13,Object(y.f)(B(n));case 13:if(s=Math.ceil(n.total/P),!(c&&s>1)){l.next=24;break}for(i=n.items.reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(x.a)({},t.track.id,"".concat(t.track.name," ").concat(t.track.artists[0].name).toLocaleLowerCase()))}),{}),o=[],u=1;u<s;u+=1)o.push(Object(y.b)(a,"get","/v1/me/tracks",{offset:P*u,limit:P}));return l.next=20,Object(y.a)(o);case 20:return l.sent.forEach((function(e){e.data.items.forEach((function(e){i[e.track.id]="".concat(e.track.name," ").concat(e.track.artists[0].name).toLocaleLowerCase()}))})),l.next=24,Object(y.f)(V(i));case 24:l.next=31;break;case 26:return l.prev=26,l.t0=l.catch(4),console.error(l.t0),l.next=31,Object(y.f)({type:D.getTracksFailed});case 31:return l.prev=31,l.next=34,Object(y.c)(800);case 34:return l.next=36,Object(y.f)(w(!1));case 36:return l.finish(31);case 37:case"end":return l.stop()}}),H,null,[[4,26,31,37]])}function K(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)(D.getTracksData,G);case 2:case"end":return e.stop()}}),Q)}var z,I={tracks:[],serverOffset:0,userOffset:0,total:0,dictionary:{},dictionaryReady:!1};function Y(e,t){return{type:z.makingUserSearchSuccess,isEmptyResult:t,query:e}}function Z(e){return{type:z.artistTracksSearchingSuccess,data:e}}function X(e){return{type:z.gettingArtistSuccess,data:e}}!function(e){e.makingUserSearchSuccess="MakingUserSearchSuccess",e.makingUserSearchFailed="MakingUserSearchFailed",e.makingUserSearch="MakingUserSearch",e.artistTracksSearching="ArtistTracksSearching",e.artistTracksSearchingSuccess="ArtistTracksSearchingSuccess",e.gettingArtist="GettingArtist",e.gettingArtistSuccess="GettingArtistSuccess",e.artistSearchClearing="ArtistSearchClearing"}(z||(z={}));var q=U.a.mark(te),W=U.a.mark(ce),$=U.a.mark(ae),ee=U.a.mark(re);function te(e){var t,c,a,r,n,s,i;return U.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.value,c=t.toLocaleLowerCase(),o.prev=2,o.next=5,Object(y.f)(w(!0));case 5:return o.next=7,Object(y.e)("ajax");case 7:return a=o.sent,o.next=10,Object(y.g)((function(e){return e.tracklist.dictionary}));case 10:if(r=o.sent,n=[],Object.keys(r).forEach((function(e){n.length!==P&&r[e].indexOf(c)>-1&&n.push(e)})),!n.length){o.next=27;break}return o.next=16,Object(y.b)(a,"get","/v1/tracks",{ids:n.join(",")});case 16:return s=o.sent,i=s.data,o.next=20,Object(y.f)(B({items:i.tracks.map((function(e){return{track:e}})),total:i.tracks.length,offset:0}));case 20:return o.next=22,Object(y.f)(Y(t,!i.tracks.length));case 22:if(!i.tracks.length){o.next=25;break}return o.next=25,Object(y.c)(800);case 25:o.next=29;break;case 27:return o.next=29,Object(y.f)(Y(t,!0));case 29:o.next=36;break;case 31:return o.prev=31,o.t0=o.catch(2),o.next=35,Object(y.f)({type:z.makingUserSearchFailed});case 35:console.error(o.t0);case 36:return o.prev=36,o.next=39,Object(y.f)(E(0));case 39:return o.next=41,Object(y.f)(w(!1));case 41:return o.finish(36);case 42:case"end":return o.stop()}}),q,null,[[2,31,36,42]])}function ce(e){var t,c,a,r,n;return U.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.name,s.prev=1,s.next=4,Object(y.e)("ajax");case 4:return c=s.sent,s.next=7,Object(y.b)(c,"get","/v1/search",{q:t,type:"track",limit:P,include_external:"audio"});case 7:return a=s.sent,r=a.data,n=r.tracks.items.map((function(e){return{name:e.name,url:e.preview_url,artist:e.artists[0].name,spotify:e.external_urls.spotify}})).filter((function(e,c,a){return e.artist.toLocaleLowerCase().includes(t.toLocaleLowerCase())&&c===a.findIndex((function(t){return t.name===e.name}))})),s.next=12,Object(y.f)(Z(n));case 12:s.next=17;break;case 14:s.prev=14,s.t0=s.catch(1),console.error(s.t0);case 17:case"end":return s.stop()}}),W,null,[[1,14]])}function ae(e){var t,c,a,r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(y.f)(w(!0));case 4:return n.next=6,Object(y.e)("ajax");case 6:return c=n.sent,n.next=9,Object(y.b)(c,"get","/v1/artists/".concat(t));case 9:return a=n.sent,r=a.data,n.next=13,Object(y.f)(X(r));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),console.error(n.t0);case 18:return n.prev=18,n.next=21,Object(y.c)(500);case 21:return n.next=23,Object(y.f)(w(!1));case 23:return n.finish(18);case 24:case"end":return n.stop()}}),$,null,[[1,15,18,24]])}function re(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)(z.makingUserSearch,te);case 2:return e.next=4,Object(y.h)(z.gettingArtist,ae);case 4:return e.next=6,Object(y.h)(z.artistTracksSearching,ce);case 6:case"end":return e.stop()}}),ee)}var ne={query:"",emptyResult:!0,globalSearchResult:{artist:{images:[],name:"",genres:[],id:""},tracks:[]}};var se=U.a.mark(ie);function ie(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.d)(R),Object(y.d)(K),Object(y.d)(re)]);case 2:case"end":return e.stop()}}),se)}var oe=Object(_.combineReducers)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.getUserDataSuccess:return Object(S.a)(Object(S.a)({},e),{},{userData:t.data});case g.getUserDataFailed:return Object(S.a)(Object(S.a)({},e),{},{userData:{display_name:"",previewUrl:""}});case g.setLoadingStatus:return Object(S.a)(Object(S.a)({},e),{},{loading:t.load});default:return e}},tracklist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.getTracksSuccess:var c=t.data.items.map((function(e){var t=e.track;return{artist:t.artists[0],images:t.album.images,name:t.name,previewUrl:t.preview_url,id:t.id}}));return Object(S.a)(Object(S.a)({},e),{},{serverOffset:t.data.offset||0,tracks:c,total:t.data.total||0});case D.getTracksFailed:return Object(S.a)(Object(S.a)({},e),{},{tracks:[]});case D.getTracksDictionarySuccess:return Object(S.a)(Object(S.a)({},e),{},{dictionary:t.dictionary,dictionaryReady:!0});case D.setUserOffset:return Object(S.a)(Object(S.a)({},e),{},{userOffset:t.offset});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.makingUserSearchSuccess:return Object(S.a)(Object(S.a)({},e),{},{query:t.query,emptyResult:t.isEmptyResult});case z.makingUserSearchFailed:return Object(S.a)(Object(S.a)({},e),{},{query:"",emptyResult:!0});case z.gettingArtistSuccess:return Object(S.a)(Object(S.a)({},e),{},{globalSearchResult:Object(S.a)(Object(S.a)({},e.globalSearchResult),{},{artist:t.data})});case z.artistTracksSearchingSuccess:return Object(S.a)(Object(S.a)({},e),{},{globalSearchResult:Object(S.a)(Object(S.a)({},e.globalSearchResult),{},{tracks:t.data})});case z.artistSearchClearing:return Object(S.a)(Object(S.a)({},e),{},{globalSearchResult:{artist:{images:[],name:"",genres:[],id:""},tracks:[]}});default:return e}}}),ue=["client_id=17d893ffda3e47019f2117f770e00315","response_type=token","redirect_uri=".concat("https://selinairra.github.io/Spotify-Test-App/demo","/oauth"),"scope=user-read-private%20user-library-read"].join("&"),le="https://accounts.spotify.com/authorize?".concat(ue),je=function(e){return e.tracklist.dictionaryReady},de=function(e){return e.tracklist.serverOffset},Ae=function(e){return Boolean(e.tracklist.tracks.length)},fe=function(e){return e.tracklist.tracks},be=function(e){return e.tracklist.userOffset},ve=function(e){return e.tracklist.total};var Oe=function(e){var t=Object(l.f)(),c=Object(l.g)().hash,a=Object(o.b)(),n=Object(o.c)(de),s=function(){a({type:g.getUserData}),a(F(n,!0))};Object(r.useEffect)((function(){e||(localStorage.getItem("medusa_token")?s():window.location.href=le)}),[]),Object(r.useEffect)((function(){if(e){var a=c.slice(1).split("&").reduce((function(e,t){var c=t.split("="),a=Object(j.a)(c,2),r=a[0],n=a[1];return Object(S.a)(Object(S.a)({},e),{},Object(x.a)({},r,n))}),{});a.access_token&&(localStorage.setItem("medusa_token",a.access_token),t.push("/"),s())}}),[e])},he=function(e){return e.session.userData.display_name},pe=function(e){return e.session.loading},ge=function(e){var t=e.oauthConfirm,c=e.children,n=Object(r.useState)(!1),s=Object(j.a)(n,2),i=s[0],u=s[1],l=Object(o.c)(Ae),d=Object(o.c)(pe);return Oe(t),Object(a.jsx)("div",{className:A.a.app,children:Object(a.jsxs)("main",{className:A.a.content,children:[d&&Object(a.jsx)(v,{}),l&&Object(a.jsx)(a.Fragment,{children:i?c:Object(a.jsxs)("div",{className:A.a.container,children:[Object(a.jsx)("p",{children:"NOTE: It is list of your saved track's in 30 second preview (MP3 format). Unfortunately, can be null. Also the search is limited with 50 items."}),Object(a.jsx)(m,{onClick:function(){return u(!0)},title:"Ok"})]})})]})})};ge.defaultProps={oauthConfirm:!1,children:n.a.Fragment};var me=ge,xe=c(120),Se=c.n(xe),ke=function(e){return e.search.query},Ue=function(e){return e.search.globalSearchResult.artist},ye=function(e){return e.search.globalSearchResult.tracks},_e=function(e){return e.search.emptyResult&&""!==e.search.query},Te=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),u=i[0],l=i[1],d=Object(o.c)(je),A=Object(o.c)(ke),f=Object(r.useState)(null),b=Object(j.a)(f,2),v=b[0],O=b[1],h=Object(o.b)();Object(r.useEffect)((function(){return function(){v&&clearTimeout(v)}}),[v]),Object(r.useEffect)((function(){c&&O(setTimeout((function(){var e;u?h((e=u,{type:z.makingUserSearch,value:e})):(h(Y("",!0)),h(E(0)),h(F(0)))}),300))}),[u]),Object(r.useEffect)((function(){l(A)}),[]);return Object(a.jsxs)("div",{className:Se.a.container,children:[Object(a.jsx)("input",{value:u,onChange:function(e){l(e.target.value),n(!0)},disabled:!d,placeholder:"Search..."}),Object(a.jsx)("img",{alt:"search",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABBVBMVEUAAADf39/T09bR0dbR0djS0tfS0tfS0tfS0tfR0dfGxuPMzMzS0tfS0tfS0tfS0tbV1dXS0tfS0tfR0djU1NnS0tfS0tfR0dfR0dbS0tbS0tfR0dXR0djS0tfT09fU1NjS0tfW1tbS0tbS0tfPz9bS0tfS0tfS0tfV1dXR0dfS0tfT09fT09fS0trS0tfT09fS0tfR0djR0dbS0tbS0tfR0dbQ0NXS0tfS0tfT09fOztjS0tfS0tfS0tfb29vS0tbS0tfT09bS0tbT09bR0dbS0tfT09PR0dvS0tfT09bR0dXS0tfT09bT09fQ0NfT09fS0tfS0tfS0tfS0tfOztvS0tcAAACl6Ku/AAAAVXRSTlMACEuXz+b655hNCQVm5Op3Hs7RITXo+bNqRDNDabHrO6Yfo+0l+2XVBl9yoUwi+FKuomQ+9TIr9NCsGvae7AdrZ11xY17zHRzxRT33UUZHOszwq80VXEb3xAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkCwYQIDiyGqK1AAABSElEQVQ4y6WS2VqCUBCAD4prm2mhFoqBKUHhUpmEZpuG2l7z/q/SZBw8cCwumqtZ/lm/IeRHhFhcTCRTYjqTJStkbX0DqGxuCVw8tw2s5Auh+M4ueqViqby3L1ck1KtKMP87XqNZBypaWp3tj/UPS4yjgUWa+tKWMaMUKHmEHsO3BJy/FhrKxCb+KscAyZPwVhZAixpxgCK3dxugQ3UcUeaALh6D6imAMgecApxRHXc654AeHi6qwgXVxV9m6FM9DVDhABvApHoG24XvcOkwd8gmANQQMAAYXvnWCC9/HYjfoOd2aep5bHLHxO/x0OMJ4yhUMcPMedbDYPFV7pQhFA09Vrsx68269tz7O4cl6s3AT455Qjc0Pzw0Ji5PEKGl9iWQxM4j7vc0X0EEZOosCCv2D+LZ6/ISRbySCOKNRBDvfwBE+XDtzy+RDlo5faUmQwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0xMS0wNlQxNjozMjo1NiswMDowMGZFB8EAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMTEtMDZUMTY6MzI6NTYrMDA6MDAXGL99AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="})]})},we=c(69),Je=c.n(we),Ce=function(e){var t=e.withSearch,c=Object(o.c)(he);return Object(a.jsxs)("header",{className:Je.a.header,children:[Object(a.jsx)("h1",{children:"Medusa"}),t&&Object(a.jsx)(Te,{}),Object(a.jsxs)("div",{className:Je.a.user_name,children:[Object(a.jsx)("img",{alt:"user",src:"data:image/png;base64,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"}),Object(a.jsx)("p",{children:c})]})]})},Ne=c(35),Re=c(36),De=c.n(Re),Me=function(e){var t=e.name,c=e.imgs,n=e.mp3,s=e.artist,i=Object(r.useRef)(null),u=Object(r.useState)(!1),l=Object(j.a)(u,2),d=l[0],A=l[1],f=Object(o.c)(pe);return Object(a.jsxs)("div",{className:De.a.container,children:[Object(a.jsxs)("div",{className:De.a.album,onMouseEnter:function(){if(n&&d){var e=i.current;e.currentTime>=30&&(e.currentTime=0),e.play()}},onMouseLeave:function(){n&&d&&i.current.pause()},children:[!f&&Object(a.jsx)("img",{src:c[1].url,alt:"album",width:180,height:180}),n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:d?De.a.audioDisk:De.a.disk}),Object(a.jsx)("audio",{src:n,preload:"auto",controls:!0,ref:i,onCanPlayThroughCapture:function(){return A(!0)},children:Object(a.jsx)("track",{default:!0,kind:"captions"})})]}):Object(a.jsx)("div",{className:De.a.noSound})]}),Object(a.jsx)("strong",{children:s}),Object(a.jsx)("span",{children:t})]})},Fe=function(){var e=Object(r.useState)({width:0,height:0}),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),c},Be=(c(184),c(42)),Ve=c.n(Be),Ee=function(){var e=Object(o.c)(fe),t=Object(r.useRef)(null),c=Fe(),n=Object(o.b)(),s=Object(o.c)(de),i=Object(o.c)(be),l=Object(o.c)(ve),j=Object(o.c)(pe),d=Object(o.c)(_e);return Object(r.useEffect)((function(){j||d||(t.current.scrollTop=0)}),[i,j]),Object(a.jsx)(a.Fragment,{children:d?Object(a.jsx)("p",{className:Ve.a.emptyResult,children:"Nothing is found"}):Object(a.jsxs)(Ne.a,{style:{maxHeight:"calc(100% - ".concat(c.width>540?60:144,"px)"),width:"100%"},scrollableNodeProps:{ref:t},children:[Object(a.jsx)("div",{className:Ve.a.container,children:e.slice(i,i+L).map((function(e){return Object(a.jsx)(u.b,{to:"/track/".concat(e.id),className:Ve.a.link,children:Object(a.jsx)(Me,{mp3:e.previewUrl||"",name:e.name,imgs:e.images,artist:e.artist.name})},e.id)}))}),Object(a.jsxs)("div",{className:Ve.a.pagination,children:[Object(a.jsx)(m,{onClick:function(){i+s!==0&&(i?n(E(i-L)):(n(F(s-P)),n(E(25))))},title:"Previous",disabled:i+s===0}),Object(a.jsx)(m,{onClick:function(){l<=s+i+L||(25===i?(n(F(s+P)),n(E(0))):n(E(i+L)))},title:"Next",disabled:l<=s+i+L})]})]})})},Pe=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce,{withSearch:!0}),Object(a.jsx)(Ee,{})]})},Le=c(73),He=c.n(Le),Qe=function(){var e=Object(o.c)(Ue);return Object(a.jsx)(a.Fragment,{children:e.name?Object(a.jsxs)("figure",{className:He.a.container,children:[Object(a.jsx)("img",{alt:"some artist",src:e.images?e.images[1].url:""}),Object(a.jsxs)("div",{className:He.a.information,children:[Object(a.jsx)("figcaption",{children:e.name}),Object(a.jsx)("ul",{children:e.genres&&e.genres.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)("span",{children:e})},e)}))})]})]}):Object(a.jsx)("span",{children:"Not found"})})},Ge=c(74),Ke=c.n(Ge),ze=c(24),Ie=c.n(ze),Ye=function(){var e=Object(o.c)(ye),t=Object(r.useRef)(null),c=Object(r.useRef)(null),n=Object(r.useState)({}),s=Object(j.a)(n,2),i=s[0],l=s[1],d=Object(r.useState)(!1),A=Object(j.a)(d,2),f=A[0],b=A[1],v=Object(r.useState)(!1),O=Object(j.a)(v,2),h=O[0],p=O[1],g=function(){b(!1);var e=t.current;e.pause(),e.currentTime=0,l({}),p(!1)},m=function(e,t){t&&(f&&g(),i.name!==e&&(l({name:e,url:t}),b(!0)))};Object(r.useEffect)((function(){f&&t.current.play()}),[h,f]);var x=function(e){var t=f&&i.name===e.name?"play":"stop";return e.url?t:""};return Object(a.jsxs)("div",{className:e.length?Ie.a.container:Ie.a.noDisplay,children:[Object(a.jsxs)("div",{className:Ie.a.player,children:[Object(a.jsx)("div",{className:f?Ie.a.diskRotated:Ie.a.disk}),Object(a.jsx)("div",{className:f?Ie.a.playerPlay:Ie.a.playerStop}),Object(a.jsx)("audio",{src:i.url,controls:!0,ref:t,onCanPlayThroughCapture:function(){return p(!0)},onPauseCapture:g,children:Object(a.jsx)("track",{default:!0,kind:"captions"})})]}),Object(a.jsx)(Ne.a,{style:{width:"100%",maxHeight:"300px"},scrollableNodeProps:{ref:c},children:Object(a.jsx)("ul",{className:Ie.a.content,children:e.length>0&&e.map((function(e){return Object(a.jsx)("div",{role:"button",tabIndex:0,className:Ie.a.track,onKeyDown:function(){return m(e.name,e.url)},onClick:function(){return m(e.name,e.url)},children:Object(a.jsxs)("li",{className:Ie.a[x(e)],children:[Object(a.jsx)("span",{children:e.name}),Object(a.jsx)(u.b,{to:{pathname:e.spotify},target:"_blank",onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHtSURBVEiJvdY7axVBFAfw3ySboAa1ECKoENQg3kbBqyBBa9EgKSzFdH4BCwvhEiz8Bn4BC1uRYGchxBdGA0EbFVHwkcKgoIlE8mAsdi5uNnuTSzQ58GeXPTPn8Z9zzmyIMWolIYRenMBx1NMTXmAiPZ/HGL+2NBJjXAFkaGAecQ3Mp7VZpa0K4zWMt2G4jHHUVnWAYcytw3gTcxiudJAi/xfjRSe1ZQ4S5+uhZTW6sqKDxhoblvAL3zHTppNGjFFALz6jKxXWRzzAk4Q3McYFBQkh9OFIwkmcQ4flsoB9mbzOuwqKMzHG16kHBnAhhLANW7EFs3iFl7gfY/wdQjiEq7iE7mSnK9k2UkrtC962ScMi7mIgUb0XkwX9SCbv0KLsKbx/wwf8QE/CdvQhoBNDGAohPMLNlGFT6jBVimoSR7GjqjNTpLtxEbfkh98qw6nMSlnEfpwKIfSjHztTZLOYxlji/3YI4RpuJP7LBw1G2+C6Fcb85f9shX40k0/F8yWnz9Lmd/JD75BXRY+8NOs4htN4HEK4k9aXZQIGS16XcLjAdyd24SAOIKTv3biM96tkOEjeaOWxPINPqrv2Jx7iSsoow72KdfPobXdUtMI0ruNpha6xecNuw8f1plw4m3JlbsSl36zpSvkfvy1/AHaqROa/SNIPAAAAAElFTkSuQmCC",alt:"spotify link",width:18,height:18})})]})},e.name)}))})})]})},Ze=function(){var e=Object(l.f)().goBack,t=Fe(),c=Object(r.useRef)(null),n=Object(o.b)(),s=Object(l.h)().id,i=Object(o.c)(pe),u=Object(o.c)(function(e){return function(t){var c=t.tracklist.tracks.find((function(t){return t.id===e}));return c?{artistId:c.artist.id,artistName:c.artist.name}:{}}}(s)),j=u.artistName,d=u.artistId;return Object(r.useEffect)((function(){var e;return j&&n((e=j,{type:z.artistTracksSearching,name:e})),d&&n(function(e){return{type:z.gettingArtist,id:e}}(d)),function(){n({type:z.artistSearchClearing})}}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce,{withSearch:!1}),Object(a.jsx)(Ne.a,{style:{maxHeight:"calc(100% - ".concat(t.width>540?60:144,"px)"),width:"100%"},scrollableNodeProps:{ref:c},children:Object(a.jsxs)("div",{className:Ke.a.mainContainer,children:[Object(a.jsx)(m,{title:"Go back",onClick:e}),!i&&Object(a.jsxs)("div",{className:Ke.a.content,children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(Ye,{})]})]})})]})},Xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,205)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))},qe=c(123),We=c(124),$e=c(75),et=c.n($e),tt=et.a.CancelToken.source();var ct=function(e,t,c,a){var r=localStorage.getItem("medusa_token"),n=Object(S.a)({},a);r&&(n.Authorization="Bearer ".concat(r));var s=et.a.create({headers:n,baseURL:"https://api.spotify.com"});switch(s.interceptors.response.use((function(e){return e}),(function(e){var t=e.response;return t&&401===t.status&&(tt.cancel(),window.location.href=le),{data:{error:t?"".concat(t.status," ").concat(t.statusText):"oops"}}})),e){case"get":return s.get(t,{params:c,cancelToken:tt.token})}},at=Object(We.a)({context:{ajax:ct}}),rt=Object(_.createStore)(oe,Object(qe.composeWithDevTools)(Object(_.applyMiddleware)(at)));at.run(ie);var nt=rt;c(202),c(203);i.a.render(Object(a.jsx)(o.a,{store:nt,children:Object(a.jsx)(u.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/oauth",children:Object(a.jsx)(me,{oauthConfirm:!0})}),Object(a.jsx)(l.a,{path:"/track/:id",children:Object(a.jsx)(me,{children:Object(a.jsx)(Ze,{})})}),Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(me,{children:Object(a.jsx)(Pe,{})})})]})})}),document.getElementById("root")),Xe()},24:function(e,t,c){e.exports={noDisplay:"Player_noDisplay__326cZ",content:"Player_content__2C6V9",play:"Player_play__2IdQ5",stop:"Player_stop__9NKY4",container:"Player_container__1a14M",track:"Player_track__66RMU",player:"Player_player__HLWkF",diskRotated:"Player_diskRotated__3bsPR",disk:"Player_disk__1AA1N",spin:"Player_spin__3hSpJ",playerPlay:"Player_playerPlay__3mn-c",playerStop:"Player_playerStop__Q9WIm"}},36:function(e,t,c){e.exports={noDisplay:"TrackCard_noDisplay__GuG1c",container:"TrackCard_container__2zji1",album:"TrackCard_album__2Mwfy",audioDisk:"TrackCard_audioDisk__2tiPN",disk:"TrackCard_disk__2iL4L",noSound:"TrackCard_noSound__6FU5N"}},42:function(e,t,c){e.exports={noDisplay:"Tracklist_noDisplay__2y6-7",container:"Tracklist_container__Fk2KV",pagination:"Tracklist_pagination__3j00c",emptyResult:"Tracklist_emptyResult__voU6G",link:"Tracklist_link__3vw18"}},50:function(e,t,c){e.exports={noDisplay:"App_noDisplay__2SJ-v",app:"App_app__3iOML",content:"App_content__1O3SK",container:"App_container__Sw3hP"}},69:function(e,t,c){e.exports={noDisplay:"Header_noDisplay__2kF5r",header:"Header_header__n223n",user_name:"Header_user_name__3HTPS"}},73:function(e,t,c){e.exports={noDisplay:"ArtistCard_noDisplay__t5N0z",container:"ArtistCard_container__20Dg1",information:"ArtistCard_information__2vetD"}},74:function(e,t,c){e.exports={noDisplay:"Card_noDisplay__2rVz4",mainContainer:"Card_mainContainer__tisND",content:"Card_content__2rB9N"}}},[[204,1,2]]]);
//# sourceMappingURL=main.0da48a91.chunk.js.map